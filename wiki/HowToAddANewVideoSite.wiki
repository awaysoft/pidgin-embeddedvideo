#summary A short tutorial to add a new video site.
#labels Featured

If you know a video site that our plugin doesn't support it yet, you have 2 choices: you ask us to add it soon or you add it by yourself. This tutorial teaches you how to handle the second case.

Assuming that you have downloaded the source code, you will have the new site working in 3 simple steps:

== 1. Add a new file ==

  * Create a new file (let's call it _*newsite.xml*_) in the *websites* directory by copying one of the existing XML files.
  * Add this new file to the *websites_DATA* variable in the file *websites/Makefile.am*.
  * Run *automake* from the root directory.

== 2. Put the right information in the file ==

  * Give a name to your site (between the tags *`<id>`* and *`</id>`*).
  * Write a regular expression for validating a link and extracting information from it (between the tags *`<regex>`* and *`</regex>`*).
    * The regular expression must be in the [http://perldoc.perl.org/perlre.html Perl style] and it should match only the direct links to videos.
    * We recommend you to write a regular expression that match the entire link, not just a portion of it. So, you should begin your regex with *`^`* and end it with *`$`*.
    * Your regex must contain a named capture buffer with the name *video_id*. Only one!
  * Paste the embedding code of a video (between the tags *`<embed>`* and *`</embed>`*). Usually, it is easy to identify within the site which is the embedding code. Replace every instance of the video id with the text *%VIDEO_ID%*.
  * Escape every string written so far between the suggested tags by using the following rules:
|| *Before escaping* || *After escaping* ||
|| < || &lt; ||
|| > || &gt; ||
|| & || &amp; ||
|| " || &quot; ||

== 3. Reinstallation ==

  * That's all. Reinstall the plugin by following [InstallationGuide#Installation_from_source_code these steps].